/**
 * A Proposition is an idea, expressed in two sentences in two different languages.
 * The constructor takes the json generated by a PropositionBuilder.
 */
class Proposition{

    constructor(jsonData){
        this.sentenceOne = jsonData.sentence_one
        this.sentenceTwo = jsonData.sentence_two
        this.audioBase64 = jsonData.audio_base64
        this.wordDict = jsonData.word_dict
        this.targetToNative = jsonData.target_to_native??true
    }

    /**
     * Play the audio of the sentence.
     */
    play(){
        playBase64(this.audioBase64)
    }

    /**
     * Give a rating from 0% to 100% to the user's translation of sentence_one to sentence_two.
     * @param {*} users_translation 
     * @returns 
     */
    check(users_translation){
        //TODO CASE DIRECTION INVERTED
        let counter = 0;
        for (let userWord of users_translation.split(/\s+/)){
            if (this.sentenceTwo.split(/\s+/).includes(userWord)){
                counter++
            }
        }
        
        return parseInt(100 *  counter/this.sentenceTwo.split(/\s+/).length)
    }

}


